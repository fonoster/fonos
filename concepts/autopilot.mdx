---
title: 'Autopilot'
description: 'Voice applications powered by LLMs.'
---

import WipDocsWarning from '/snippets/wip-docs-warning.mdx';

<WipDocsWarning />

<Warning>
  The Autopilot is currently in overview mode and only available via the SDK, and the Knowledgebase features have been disabled.
</Warning>

Fonoster's Autopilot is a component within the platform that allows you to create powerful conversational experiences. It is built on top of Fonoster Programmable Voice. It uses the latest advances in large language models (LLMs) to provide a more natural and engaging experience.

## Creating an Autopilot Application

The following is an example of how to create an Autopilot application using the SDK:

```javascript
const SDK = require("@fonoster/sdk");

const client = new SDK.Client({ accessKeyId: "WO000000-0000-0000-0000-000000000000" });

const appConfig = {
  name: "Dr. Green's AI Assistant",
  type: "AUTOPILOT",
  speechToText: {
    productRef: "stt.deepgram",
    config: {
      languageCode: "en-US"
    }
  },
  textToSpeech: {
    productRef: "tts.deepgram",
    config: {
      voice: "aura-asteria-en"
    }
  },
  intelligence: {
    productRef: "llm.groq",
    config: {
      conversationSettings: {
        firstMessage: "Hello, this is Olivia from Dr. Green's Family Medicine. How can I assist you today?",
        systemTemplate: "You are a Customer Service Representative. You are here to help the caller with their needs.",
        goodbyeMessage: "Goodbye, have a great day!",
        systemErrorMessage: "I'm sorry, I didn't understand that. Can you please repeat it?",
        maxSpeechWaitTimeout: 10000,
        vad: {
          activationThreshold: 0.30,
          deactivationThreshold: 0.15,
          debounceFrames: 1
        }
      },
      languageModel: {
        provider: "groq",
        model: "llama-3.3-70b-specdec",
        maxTokens: 250,
        temperature: 0.7,
        knowledgeBase: [],
        tools: []
      }
    }
  }
}

client.loginWithApiKey("AP0eerv2g7qow3e950k7twu4rvydcunq3k", "fNc...")
  .then(async() => new SDK.Applications(client).createApplication(appConfig))
  .catch(console.error);
```

## Refining the conversation

The `conversationSettings` object allows you to define the Autopilot's conversational behavior. The conversation settings are independent of the language model used.

The following is a list of the supported settings:

| Setting                     | Description                                                                                              |
| --------------------------- | -------------------------------------------------------------------------------------------------------- |
| firstMessage                | The first message the Autopilot will say when the conversation starts                                    |
| systemTemplate              | A template that describes the role of the Autopilot. This is used to set the context of the conversation |
| systemErrorMessage          | The message the Autopilot will say when an error occurs                                                  |
| initialDtmf                 | A DTMF to play when the conversation starts                                                              |
| transferOptions             | The options to transfer the call to a live agent                                                         |
| transferOptions.phoneNumber | The phone number to transfer the call to                                                                 |
| transferOptions.message     | The message to play before transferring the call                                                         |
| transferOptions.timeout     | The time in milliseconds to wait before hanging up the call if the transfer is not completed             |
| idleOptions                 | The options to handle idle time during the conversation                                                  |
| idleOptions.message         | The message to play after the idle time is reached                                                       |
| idleOptions.timeout         | The time in milliseconds to wait before playing the idle message                                         |
| idleOptions.maxTimeoutCount | The maximum number of times the idle message will be played before hanging up the call                   |

## Configuring the language model

The `languageModel` object allows you to define the language model the Autopilot uses. The language model is responsible for generating responses to the user's input.

The following is a list of the supported settings:

| Setting       | Description                                                                                     |
| ------------- | ----------------------------------------------------------------------------------------------- |
| provider      | The provider of the language model. Supported providers are `openai`, `groq`, and `ollama`      |
| model         | The model to use. The available models depend on the provider                                   |
| maxTokens     | The maximum number of tokens the language model can generate in a single response               |
| temperature   | The randomness of the language model. A higher temperature will result in more random responses |
| knowledgeBase | A list of knowledge bases to use for the language model                                         |
| tools         | A list of tools to use for the language model                                                   |

### LLM providers and models

The Autopilot supports multiple language model providers. The following is a list of the supported providers:

| Provider | Description                                                | Supported models                                        |
| -------- | ---------------------------------------------------------- | ------------------------------------------------------- |
| OpenAI   | OpenAI provides various GPT models for conversational AI   | `gpt-4o`, `gpt-4o-mini`, `gpt-3.5-turbo`, `gpt-4-turbo` |
| Groq     | Groq offers high-performance AI models optimized for speed | `llama-3.1-8b-instant`, `llama-3.3-70b-specdec`         |
| Ollama   | Self-hosted Ollama models                                  | `llama3-groq-tool-use`                                  |

<Tip>
  We are constantly updating the list of supported providers and models. Please let us know if you have a specific model you want to use.
</Tip>

### Knowledge bases

Coming soon...

### Tools

Fonoster's Autopilot allows you to use tools to enhance the conversational experience. Tools are used to perform specific actions during the conversation.

The following is a list of built-in tools:

| Tool     | Description                                  |
| -------- | -------------------------------------------- |
| hangup   | A tool to end the conversation               |
| transfer | A tool to transfer the call to a live agent  |
| hold     | A tool to put the call on hold (Coming soon) |

You can add custom tools to the language model by adding an entry to the `tools` array. The following is an example of how to add a custom tool:

```javascript
const appConfig = {
  ...
  intelligence: {
    ...
    languageModel: {
      ...
      "tools": [
        {
          "name": "getAvailableTimes",
          "description": "Get available appointment times for a specific date.",
          "parameters": {
            "type": "object",
            "properties": {
              "date": {
                "type": "string",
                "format": "date"
              }
            },
            "required": [
              "date"
            ]
          },
          "operation": {
            "type": "get",
            "url": "https://api.example.com/appointment-times",
            "headers": {
              "x-api-key": "your-api-key"
            }
          }
        }
      ]
    }
  }
}
```

Please see the tool's [schema](https://github.com/fonoster/fonoster/blob/main/mods/common/src/assistants/tools/toolSchema.ts) for additional properties.